<Window x:Class="mdmAdmin.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MDMPort Adatbáziskezelő"
        Height="600"
        Width="1050"
        Background="#0B1020"
        WindowStartupLocation="CenterScreen"
        Icon="/Assets/mdmlogo.ico">

    <Window.Resources>
        <Color x:Key="Color.Background">#0B1020</Color>
        <Color x:Key="Color.Surface">#151A2E</Color>
        <Color x:Key="Color.SurfaceAlt">#1F2540</Color>
        <Color x:Key="Color.Border">#252B4A</Color>
        <Color x:Key="Color.Accent">#FF4F46E5</Color>
        <Color x:Key="Color.AccentSoft">#334F46E5</Color>
        <Color x:Key="Color.TextPrimary">#FFFFFF</Color>
        <Color x:Key="Color.TextSecondary">#B3B9D9</Color>
        <Color x:Key="Color.Danger">#FFFC0319</Color>
        
        <SolidColorBrush x:Key="MainBackgroundBrush" Color="#FF151537"/>
        <SolidColorBrush x:Key="AccentBrush"          Color="#FFFC0319"/>
        <SolidColorBrush x:Key="TextBrush"            Color="#FFFC0319"/>
        <SolidColorBrush x:Key="AltRowBrush"          Color="#33151537"/>
        <SolidColorBrush x:Key="Brush.Background" Color="{StaticResource Color.Background}"/>
        <SolidColorBrush x:Key="Brush.Surface" Color="{StaticResource Color.Surface}"/>
        <SolidColorBrush x:Key="Brush.SurfaceAlt" Color="{StaticResource Color.SurfaceAlt}"/>
        <SolidColorBrush x:Key="Brush.Border" Color="{StaticResource Color.Border}"/>
        <SolidColorBrush x:Key="Brush.Accent" Color="{StaticResource Color.Accent}"/>
        <SolidColorBrush x:Key="Brush.AccentSoft" Color="{StaticResource Color.AccentSoft}"/>
        <SolidColorBrush x:Key="Brush.TextPrimary" Color="{StaticResource Color.TextPrimary}"/>
        <SolidColorBrush x:Key="Brush.TextSecondary" Color="{StaticResource Color.TextSecondary}"/>
        <SolidColorBrush x:Key="Brush.Danger" Color="{StaticResource Color.Danger}"/>
        
        <FontFamily x:Key="HeaderFontFamily">Arial Black</FontFamily>
        <FontFamily x:Key="NormalFontFamily">Arial</FontFamily>
        <FontFamily x:Key="Font.Header">Segoe UI Semibold</FontFamily>
        <FontFamily x:Key="Font.Body">Segoe UI</FontFamily>

        <Style TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="0"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabControl">
                        <Grid Background="{StaticResource Brush.Background}">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="*"/>
                            </Grid.RowDefinitions>

                            <Border Background="{StaticResource Brush.Surface}"
                                    BorderBrush="{StaticResource Brush.Border}"
                                    BorderThickness="0,0,0,1"
                                    Padding="10,6">
                                <TabPanel x:Name="HeaderPanel"
                                          IsItemsHost="True"
                                          Margin="0,0,0,0"/>
                            </Border>
                            
                            <Border Grid.Row="1"
                                    Margin="10"
                                    Background="{StaticResource Brush.Surface}"
                                    CornerRadius="8"
                                    BorderBrush="{StaticResource Brush.Border}"
                                    BorderThickness="1">
                                <ContentPresenter x:Name="PART_SelectedContentHost"
                                                  Margin="14"
                                                  ContentSource="SelectedContent"/>
                            </Border>
                        </Grid>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="TabItem">
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Padding" Value="8,4"/>
            <Setter Property="FontFamily" Value="{StaticResource HeaderFontFamily}"/>
            <Setter Property="Cursor" Value="Hand"/>

        </Style>

        <Style TargetType="Label">
            <Setter Property="Foreground" Value="{StaticResource Brush.TextSecondary}"/>
            <Setter Property="FontFamily" Value="{StaticResource Font.Body}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="0,0,4,0"/>
        </Style>

        <Style TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="6,3"/>
            <Setter Property="FontFamily" Value="{StaticResource Font.Body}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="SnapsToDevicePixels" Value="True"/>
            <Setter Property="HorizontalAlignment" Value="Left"/>
            <Setter Property="Width" Value="180"/>
            <Setter Property="Margin" Value="4,0"/>
            <Setter Property="SelectionBrush" Value="{StaticResource Brush.Accent}"/>
            <Setter Property="SelectionTextBrush" Value="{StaticResource Brush.TextPrimary}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TextBox">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="4">
                            <ScrollViewer x:Name="PART_ContentHost" Margin="2"/>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="IsKeyboardFocused" Value="True">
                    <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent}"/>
                </Trigger>
                <Trigger Property="IsEnabled" Value="False">
                    <Setter Property="Opacity" Value="0.5"/>
                </Trigger>
            </Style.Triggers>
        </Style>
        
        <Style x:Key="MultilineTextBox" TargetType="TextBox" BasedOn="{StaticResource {x:Type TextBox}}">
            <Setter Property="AcceptsReturn" Value="True"/>
            <Setter Property="TextWrapping" Value="Wrap"/>
            <Setter Property="VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="Width" Value="Auto"/>
            <Setter Property="Height" Value="80"/>
        </Style>

        <Style TargetType="Button">
            <Setter Property="Background" Value="{StaticResource Brush.AccentSoft}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Accent}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="10,4"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="MinWidth" Value="110"/>
            <Setter Property="FontFamily" Value="{StaticResource Font.Header}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Cursor" Value="Hand"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="Button">
                        <Border x:Name="border"
                                Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}"
                                CornerRadius="6">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"
                                              Margin="4,2"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter TargetName="border" Property="Background"
                                        Value="{StaticResource Brush.Accent}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="True">
                                <Setter TargetName="border" Property="Background"
                                        Value="{StaticResource Brush.Accent}"/>
                                <Setter TargetName="border" Property="Opacity" Value="0.9"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter TargetName="border" Property="Opacity" Value="0.5"/>
                                <Setter Property="Cursor" Value="Arrow"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.TextPrimary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="RowBackground" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="AlternatingRowBackground" Value="{StaticResource Brush.SurfaceAlt}"/>
            <Setter Property="HorizontalGridLinesBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="VerticalGridLinesBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="GridLinesVisibility" Value="Horizontal"/>
            <Setter Property="HeadersVisibility" Value="All"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="SelectionUnit" Value="FullRow"/>
            <Setter Property="FontFamily" Value="{StaticResource Font.Body}"/>
            <Setter Property="FontSize" Value="13"/>
            <Setter Property="Margin" Value="0,0,0,8"/>
            <Setter Property="CanUserAddRows" Value="False"/>
            <Setter Property="CanUserDeleteRows" Value="False"/>
            <Setter Property="AutoGenerateColumns" Value="False"/>
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Background" Value="{StaticResource Brush.SurfaceAlt}"/>
            <Setter Property="Foreground" Value="{StaticResource Brush.TextSecondary}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Border}"/>
            <Setter Property="FontFamily" Value="{StaticResource Font.Header}"/>
            <Setter Property="FontSize" Value="12"/>
        </Style>

        <Style TargetType="DataGridCell">
            <Setter Property="BorderBrush" Value="{StaticResource Brush.Surface}"/>
            <Setter Property="BorderThickness" Value="0,0,0,1"/>
        </Style>

    </Window.Resources>

    <Grid Background="{StaticResource Brush.Background}" Margin="12">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
        </Grid.RowDefinitions>

        <!-- Fejléc -->
        <DockPanel Grid.Row="0" Margin="0,0,0,10">
            <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" VerticalAlignment="Center">
                <Image Source="/mdmlogo.png" Width="32" Height="32" Margin="0,0,8,0"/>
                <StackPanel Orientation="Vertical">
                    <TextBlock Text="MDMPort Admin"
                               FontFamily="{StaticResource Font.Header}"
                               FontSize="18"
                               Foreground="{StaticResource Brush.TextPrimary}"/>
                    <TextBlock Text="Adatbáziskezelő felület"
                               FontFamily="{StaticResource Font.Body}"
                               FontSize="12"
                               Foreground="{StaticResource Brush.TextSecondary}"/>
                </StackPanel>
            </StackPanel>
        </DockPanel>

        <!-- TabControl -->
        <TabControl Grid.Row="1">
            <!-- FELHASZNÁLÓK -->
            <TabItem Header="Felhasználók">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Grid -->
                    <DataGrid x:Name="UserGrid"
                              Grid.Row="0"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              SelectionChanged="UserGrid_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Id" Binding="{Binding Id}" IsReadOnly="True" Width="60"/>
                            <DataGridTextColumn Header="Username" Binding="{Binding Username}" Width="*"/>
                            <DataGridTextColumn Header="Password" Binding="{Binding Password}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Form + gombok -->
                    <DockPanel Grid.Row="1" LastChildFill="False" Margin="0,10,0,0">
                        <StackPanel Orientation="Horizontal" DockPanel.Dock="Left" VerticalAlignment="Center">
                            <Label Content="Username:"/>
                            <TextBox x:Name="UsernameBox"/>

                            <Label Content="Password:"/>
                            <TextBox x:Name="PasswordBox"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" DockPanel.Dock="Right" VerticalAlignment="Center">
                            <Button Content="Hozzáadás" Click="AddUser_Click"/>
                            <Button Content="Frissítés" Click="UpdateUser_Click"/>
                            <Button Content="Törlés" Click="DeleteUser_Click"
                                    Background="#33FC0319"
                                    BorderBrush="{StaticResource Brush.Danger}"/>
                        </StackPanel>
                    </DockPanel>
                </Grid>
            </TabItem>

            <!-- JÁTÉKOK -->
            <TabItem Header="Játékok">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Grid -->
                    <DataGrid x:Name="GameGrid"
                              Grid.Row="0"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              SelectionChanged="GameGrid_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Id" Binding="{Binding Id}" IsReadOnly="True" Width="60"/>
                            <DataGridTextColumn Header="Title" Binding="{Binding Title}" Width="2*"/>
                            <DataGridTextColumn Header="Tag" Binding="{Binding Tag}" Width="*"/>
                            <DataGridTextColumn Header="Price" Binding="{Binding Price}" Width="*"/>
                            <DataGridTextColumn Header="Desc" Binding="{Binding Desc}" Width="3*"/>
                            <DataGridTextColumn Header="Thumbnail" Binding="{Binding Thumbnail}" Width="2*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Form -->
                    <StackPanel Grid.Row="1" Margin="0,8,0,0">
                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <Label Content="Title:"/>
                            <TextBox x:Name="GameTitleBox" Width="280"/>

                            <Label Content="Tag:"/>
                            <TextBox x:Name="GameTagBox" Width="160"/>

                            <Label Content="Price:"/>
                            <TextBox x:Name="GamePriceBox" Width="100"/>
                        </StackPanel>

                        <StackPanel Orientation="Horizontal" Margin="0,0,0,4">
                            <Label Content="Thumbnail:"/>
                            <TextBox x:Name="GameThumbnailBox" Width="350"/>

                            <Label Content="Desc:"/>
                            <TextBox x:Name="GameDescBox"
                                     Style="{StaticResource MultilineTextBox}"
                                     Width="350"/>
                        </StackPanel>
                    </StackPanel>

                    <!-- Gombok -->
                    <StackPanel Grid.Row="2"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Margin="0,8,0,0">
                        <Button Content="Hozzáadás" Click="AddGame_Click"/>
                        <Button Content="Frissítés" Click="UpdateGame_Click"/>
                        <Button Content="Törlés" Click="DeleteGame_Click"
                                Background="#33FC0319"
                                BorderBrush="{StaticResource Brush.Danger}"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- JÁTÉK KÉPEK -->
            <TabItem Header="Játék képek">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Grid -->
                    <DataGrid x:Name="PhotoGrid"
                              Grid.Row="0"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              SelectionChanged="PhotoGrid_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Id" Binding="{Binding Id}" IsReadOnly="True" Width="60"/>
                            <DataGridTextColumn Header="GameId" Binding="{Binding GameId}" Width="*"/>
                            <DataGridTextColumn Header="Pic" Binding="{Binding Pic}" Width="3*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Form -->
                    <StackPanel Grid.Row="1"
                                Orientation="Horizontal"
                                Margin="0,8,0,0">
                        <Label Content="GameId:"/>
                        <TextBox x:Name="PhotoGameIdBox"/>

                        <Label Content="Pic:"/>
                        <TextBox x:Name="PhotoPicBox" Width="260"/>
                    </StackPanel>

                    <!-- Gombok -->
                    <StackPanel Grid.Row="2"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Margin="0,8,0,0">
                        <Button Content="Hozzáadás" Click="AddPhoto_Click"/>
                        <Button Content="Frissítés" Click="UpdatePhoto_Click"/>
                        <Button Content="Törlés" Click="DeletePhoto_Click"
                                Background="#33FC0319"
                                BorderBrush="{StaticResource Brush.Danger}"/>
                    </StackPanel>
                </Grid>
            </TabItem>

            <!-- BIRTOKOLT JÁTÉKOK -->
            <TabItem Header="Birtokolt játékok">
                <Grid>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*"/>
                        <RowDefinition Height="Auto"/>
                        <RowDefinition Height="Auto"/>
                    </Grid.RowDefinitions>

                    <!-- Grid -->
                    <DataGrid x:Name="OwnedGrid"
                              Grid.Row="0"
                              IsReadOnly="True"
                              SelectionMode="Single"
                              SelectionChanged="OwnedGrid_SelectionChanged">
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="Id" Binding="{Binding Id}" IsReadOnly="True" Width="60"/>
                            <DataGridTextColumn Header="UserId" Binding="{Binding UserId}" Width="*"/>
                            <DataGridTextColumn Header="GameId" Binding="{Binding GameId}" Width="*"/>
                        </DataGrid.Columns>
                    </DataGrid>

                    <!-- Form -->
                    <StackPanel Grid.Row="1"
                                Orientation="Horizontal"
                                Margin="0,8,0,0">
                        <Label Content="UserId:"/>
                        <TextBox x:Name="OwnedUserIdBox"/>

                        <Label Content="GameId:"/>
                        <TextBox x:Name="OwnedGameIdBox"/>
                    </StackPanel>

                    <!-- Gombok -->
                    <StackPanel Grid.Row="2"
                                Orientation="Horizontal"
                                HorizontalAlignment="Right"
                                Margin="0,8,0,0">
                        <Button Content="Hozzáadás" Click="AddOwned_Click"/>
                        <Button Content="Frissítés" Click="UpdateOwned_Click"/>
                        <Button Content="Törlés" Click="DeleteOwned_Click"
                                Background="#33FC0319"
                                BorderBrush="{StaticResource Brush.Danger}"/>
                    </StackPanel>
                </Grid>
            </TabItem>
        </TabControl>
    </Grid>
</Window>