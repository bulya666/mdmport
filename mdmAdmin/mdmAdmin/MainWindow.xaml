<Window x:Class="mdmAdmin.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MDMPort Adatbáziskezelő"
        Icon="/Assets/mdmlogo.ico"
        WindowStartupLocation="CenterScreen"
        WindowStyle="SingleBorderWindow"
        Background="#FF050816"

        Width="1200"
        Height="720"
        MinWidth="1100"
        MinHeight="600"
        MaxWidth="1700"
        MaxHeight="950">

    <!-- =================== TÉMA / STÍLUSOK =================== -->
    <Window.Resources>

        <!-- SZÍNPALETTA – sötét + neon -->
        <Color x:Key="ColorBackground">#FF050816</Color>
        <Color x:Key="ColorBackgroundCard">#FF0B1220</Color>
        <Color x:Key="ColorBackgroundCardAlt">#FF111827</Color>
        <Color x:Key="ColorAccent">#FF22D3EE</Color>
        <Color x:Key="ColorAccent2">#FF6366F1</Color>
        <Color x:Key="ColorBorder">#FF1F2937</Color>
        <Color x:Key="ColorDanger">#FFEF4444</Color>
        <Color x:Key="ColorText">#FFF9FAFB</Color>
        <Color x:Key="ColorTextSubtle">#FF9CA3AF</Color>

        <SolidColorBrush x:Key="MainBackgroundBrush" Color="{StaticResource ColorBackground}"/>
        <SolidColorBrush x:Key="CardBackgroundBrush" Color="{StaticResource ColorBackgroundCard}"/>
        <SolidColorBrush x:Key="CardBackgroundAltBrush" Color="{StaticResource ColorBackgroundCardAlt}"/>
        <SolidColorBrush x:Key="AccentBrush" Color="{StaticResource ColorAccent}"/>
        <SolidColorBrush x:Key="Accent2Brush" Color="{StaticResource ColorAccent2}"/>
        <SolidColorBrush x:Key="BorderBrushMain" Color="{StaticResource ColorBorder}"/>
        <SolidColorBrush x:Key="TextBrush" Color="{StaticResource ColorText}"/>
        <SolidColorBrush x:Key="TextSubtleBrush" Color="{StaticResource ColorTextSubtle}"/>
        <SolidColorBrush x:Key="DangerBrush" Color="{StaticResource ColorDanger}"/>

        <!-- FONTOK -->
        <FontFamily x:Key="HeaderFontFamily">Segoe UI Semibold</FontFamily>
        <FontFamily x:Key="NormalFontFamily">Segoe UI</FontFamily>

        <!-- LABEL -->
        <Style TargetType="Label">
            <Setter Property="Foreground" Value="{StaticResource TextSubtleBrush}"/>
            <Setter Property="FontFamily" Value="{StaticResource NormalFontFamily}"/>
            <Setter Property="VerticalAlignment" Value="Center"/>
            <Setter Property="Margin" Value="4,0"/>
        </Style>

        <!-- TEXTBOX -->
        <Style TargetType="TextBox">
            <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrushMain}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="SelectionBrush" Value="{StaticResource AccentBrush}"/>
            <Setter Property="SelectionTextBrush" Value="{StaticResource TextBrush}"/>
            <Setter Property="FontFamily" Value="{StaticResource NormalFontFamily}"/>
            <Setter Property="Margin" Value="4,2"/>
            <Setter Property="Height" Value="26"/>
            <Setter Property="Padding" Value="6,2"/>
        </Style>

        <!-- SZEKCIÓ CÍMEK -->
        <Style x:Key="SectionHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="18"/>
            <Setter Property="FontFamily" Value="{StaticResource HeaderFontFamily}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
        </Style>

        <Style x:Key="SectionSubHeader" TargetType="TextBlock">
            <Setter Property="FontSize" Value="12"/>
            <Setter Property="FontFamily" Value="{StaticResource NormalFontFamily}"/>
            <Setter Property="Foreground" Value="{StaticResource TextSubtleBrush}"/>
        </Style>

        <!-- KÁRTYA -->
        <Style x:Key="CardStyle" TargetType="Border">
            <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrushMain}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="CornerRadius" Value="8"/>
            <Setter Property="Padding" Value="10"/>
            <Setter Property="Margin" Value="0,8,0,0"/>
        </Style>

        <!-- TAB CONTROL -->
        <Style TargetType="TabControl">
            <Setter Property="Background" Value="Transparent"/>
        </Style>

        <!-- TAB ITEM -->
        <Style TargetType="TabItem">
            <Setter Property="FontFamily" Value="{StaticResource HeaderFontFamily}"/>
            <Setter Property="Foreground" Value="{StaticResource TextSubtleBrush}"/>
            <Setter Property="Padding" Value="14,8"/>
            <Setter Property="Margin" Value="0,0,8,0"/>
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="BorderThickness" Value="0,0,0,2"/>
            <Setter Property="BorderBrush" Value="Transparent"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="TabItem">
                        <Border Background="{TemplateBinding Background}"
                                BorderBrush="{TemplateBinding BorderBrush}"
                                BorderThickness="{TemplateBinding BorderThickness}">
                            <ContentPresenter HorizontalAlignment="Center"
                                              VerticalAlignment="Center"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsSelected" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                <Setter Property="BorderBrush" Value="{StaticResource AccentBrush}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
                                <Setter Property="BorderBrush" Value="{StaticResource Accent2Brush}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <!-- BUTTON PRIMARY -->
        <Style TargetType="Button" x:Key="PrimaryButton">
            <Setter Property="Background">
                <Setter.Value>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="{StaticResource ColorAccent}" Offset="0"/>
                        <GradientStop Color="{StaticResource ColorAccent2}" Offset="1"/>
                    </LinearGradientBrush>
                </Setter.Value>
            </Setter>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Padding" Value="10,5"/>
            <Setter Property="Margin" Value="4"/>
            <Setter Property="MinWidth" Value="120"/>
        </Style>

        <!-- BUTTON SECONDARY -->
        <Style TargetType="Button" x:Key="SecondaryButton" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="#222"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrushMain}"/>
            <Setter Property="BorderThickness" Value="1"/>
        </Style>

        <!-- BUTTON DANGER -->
        <Style TargetType="Button" x:Key="DangerButton" BasedOn="{StaticResource PrimaryButton}">
            <Setter Property="Background" Value="{StaticResource DangerBrush}"/>
        </Style>

        <!-- DATAGRID -->
        <Style TargetType="DataGrid">
            <Setter Property="Background" Value="{StaticResource CardBackgroundBrush}"/>
            <Setter Property="Foreground" Value="{StaticResource TextBrush}"/>
            <Setter Property="BorderBrush" Value="{StaticResource BorderBrushMain}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="SelectionMode" Value="Single"/>
            <Setter Property="RowHeight" Value="30"/>
            <Setter Property="GridLinesVisibility" Value="None"/>
        </Style>

        <Style TargetType="DataGridColumnHeader">
            <Setter Property="Foreground" Value="{StaticResource TextSubtleBrush}"/>
            <Setter Property="Background" Value="#FF020617"/>
            <Setter Property="BorderBrush" Value="#FF111827"/>
        </Style>

    </Window.Resources>
    <!-- =================== FŐ LAYOUT =================== -->
    <Grid>
        <Grid Margin="16">
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
            </Grid.RowDefinitions>

            <!-- HEADER -->
            <Border BorderBrush="{StaticResource BorderBrushMain}"
                    BorderThickness="1"
                    CornerRadius="8"
                    Background="#220B1120"
                    Padding="12">
                <DockPanel>
                    <StackPanel Orientation="Horizontal" DockPanel.Dock="Left">
                        <Image Source="/mdmlogo.png" Height="34" Width="38" Margin="0,0,10,0"/>
                        <StackPanel>
                            <TextBlock Text="MDMPort Adatbáziskezelő" Style="{StaticResource SectionHeader}"/>
                            <TextBlock Text="Adminisztrációs felület" Style="{StaticResource SectionSubHeader}"/>
                        </StackPanel>
                    </StackPanel>
                </DockPanel>
            </Border>

            <!-- TABS -->
            <Border Grid.Row="1"
                    Style="{StaticResource CardStyle}"
                    Margin="0,12,0,0">
                <TabControl>

                    <!-- FELHASZNÁLÓK -->
                    <TabItem Header="Felhasználók">
                        <Grid Margin="4">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <DataGrid x:Name="UserGrid"
                                      Grid.Row="0"
                                      AutoGenerateColumns="False"
                                      IsReadOnly="True"
                                      SelectionChanged="UserGrid_SelectionChanged">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="Felhasználónév" Binding="{Binding Username}" Width="*"/>
                                    <DataGridTextColumn Header="Jelszó" Binding="{Binding Password}" Width="*"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Felhasználónév:" Width="120"/>
                                        <TextBox x:Name="UsernameBox" Width="180"/>
                                        <Label Content="Jelszó:" Width="70"/>
                                        <TextBox x:Name="PasswordBox" Width="180"/>
                                    </StackPanel>

                                    <Image Grid.Column="1"
                                           Source="/mdmlogo.png"
                                           Height="40" Width="45"
                                           Margin="10,0,0,0"/>
                                </Grid>
                            </Border>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Content="Hozzáadás" Style="{StaticResource PrimaryButton}" Click="AddUser_Click"/>
                                <Button Content="Frissítés" Style="{StaticResource SecondaryButton}" Click="UpdateUser_Click"/>
                                <Button Content="Törlés" Style="{StaticResource DangerButton}" Click="DeleteUser_Click"/>
                            </StackPanel>
                        </Grid>
                    </TabItem>

                    <!-- JÁTÉKOK -->
                    <TabItem Header="Játékok">
                        <Grid Margin="4">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <DataGrid x:Name="GameGrid"
                                      Grid.Row="0"
                                      AutoGenerateColumns="False"
                                      IsReadOnly="True"
                                      SelectionChanged="GameGrid_SelectionChanged">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="Cím" Binding="{Binding Title}" Width="2*"/>
                                    <DataGridTextColumn Header="Tag" Binding="{Binding Tag}" Width="*"/>
                                    <DataGridTextColumn Header="Ár" Binding="{Binding Price}" Width="*"/>
                                    <DataGridTextColumn Header="Leírás" Binding="{Binding Desc}" Width="3*"/>
                                    <DataGridTextColumn Header="Bélyegkép" Binding="{Binding Thumbnail}" Width="2*"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                                <StackPanel>
                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Cím:" Width="70"/>
                                        <TextBox x:Name="GameTitleBox" Width="260"/>
                                        <Label Content="Tag:" Width="50"/>
                                        <TextBox x:Name="GameTagBox" Width="160"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Ár:" Width="70"/>
                                        <TextBox x:Name="GamePriceBox" Width="100"/>
                                        <Label Content="Bélyegkép:" Width="80"/>
                                        <TextBox x:Name="GameThumbnailBox" Width="260"/>
                                    </StackPanel>

                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="Leírás:" Width="70" VerticalAlignment="Top"/>
                                        <TextBox x:Name="GameDescBox"
                                                 Width="500" Height="70"
                                                 TextWrapping="Wrap"
                                                 AcceptsReturn="True"
                                                 VerticalScrollBarVisibility="Auto"/>

                                        <Image Source="/mdmlogo.png"
                                               Width="45" Height="40"
                                               Margin="10,0,0,0"/>
                                    </StackPanel>
                                </StackPanel>
                            </Border>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Content="Hozzáadás" Style="{StaticResource PrimaryButton}" Click="AddGame_Click"/>
                                <Button Content="Frissítés" Style="{StaticResource SecondaryButton}" Click="UpdateGame_Click"/>
                                <Button Content="Törlés" Style="{StaticResource DangerButton}" Click="DeleteGame_Click"/>
                            </StackPanel>
                        </Grid>
                    </TabItem>

                    <!-- JÁTÉK KÉPEK -->
                    <TabItem Header="Játék képek">
                        <Grid Margin="4">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <DataGrid x:Name="PhotoGrid"
                                      Grid.Row="0"
                                      AutoGenerateColumns="False"
                                      IsReadOnly="True"
                                      SelectionChanged="PhotoGrid_SelectionChanged">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="GameId" Binding="{Binding GameId}" Width="*"/>
                                    <DataGridTextColumn Header="Kép" Binding="{Binding Pic}" Width="2*"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="GameId:" Width="70"/>
                                        <TextBox x:Name="PhotoGameIdBox" Width="160"/>
                                        <Label Content="Kép:" Width="40"/>
                                        <TextBox x:Name="PhotoPicBox" Width="260"/>
                                    </StackPanel>

                                    <Image Grid.Column="1" Source="/mdmlogo.png"
                                           Width="45" Height="40" Margin="10,0,0,0"/>
                                </Grid>
                            </Border>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Content="Hozzáadás" Style="{StaticResource PrimaryButton}" Click="AddPhoto_Click"/>
                                <Button Content="Frissítés" Style="{StaticResource SecondaryButton}" Click="UpdatePhoto_Click"/>
                                <Button Content="Törlés" Style="{StaticResource DangerButton}" Click="DeletePhoto_Click"/>
                            </StackPanel>
                        </Grid>
                    </TabItem>

                    <!-- BIRTOKOLT JÁTÉKOK -->
                    <TabItem Header="Birtokolt játékok">
                        <Grid Margin="4">
                            <Grid.RowDefinitions>
                                <RowDefinition Height="*"/>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <DataGrid x:Name="OwnedGrid"
                                      Grid.Row="0"
                                      AutoGenerateColumns="False"
                                      IsReadOnly="True"
                                      SelectionChanged="OwnedGrid_SelectionChanged">
                                <DataGrid.Columns>
                                    <DataGridTextColumn Header="Id" Binding="{Binding Id}" Width="60"/>
                                    <DataGridTextColumn Header="UserId" Binding="{Binding UserId}" Width="*"/>
                                    <DataGridTextColumn Header="GameId" Binding="{Binding GameId}" Width="*"/>
                                </DataGrid.Columns>
                            </DataGrid>

                            <Border Grid.Row="1" Style="{StaticResource CardStyle}">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Orientation="Horizontal">
                                        <Label Content="UserId:" Width="80"/>
                                        <TextBox x:Name="OwnedUserIdBox" Width="160"/>
                                        <Label Content="GameId:" Width="80"/>
                                        <TextBox x:Name="OwnedGameIdBox" Width="160"/>
                                    </StackPanel>

                                    <Image Grid.Column="1" Source="/mdmlogo.png"
                                           Width="45" Height="40" Margin="10,0,0,0"/>
                                </Grid>
                            </Border>

                            <StackPanel Grid.Row="2" Orientation="Horizontal" HorizontalAlignment="Right">
                                <Button Content="Hozzáadás" Style="{StaticResource PrimaryButton}" Click="AddOwned_Click"/>
                                <Button Content="Frissítés" Style="{StaticResource SecondaryButton}" Click="UpdateOwned_Click"/>
                                <Button Content="Törlés" Style="{StaticResource DangerButton}" Click="DeleteOwned_Click"/>
                            </StackPanel>
                        </Grid>
                    </TabItem>

                </TabControl>
            </Border>
        </Grid>
    </Grid>
</Window>
