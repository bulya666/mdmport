<div class="community-container">
  <!-- Fejl√©c -->
  <header class="community-header">
    <h1>K√∂z√∂ss√©gi Port√°l</h1>
    <p>Maradj naprak√©sz a leg√∫jabb h√≠rekkel, friss√≠t√©sekkel √©s k√∂z√∂ss√©gi esem√©nyekkel</p>
  </header>

  <div class="community-content">
    <!-- Bal oldal: Cikkek -->
    <main class="articles-section">
      <!-- Sz≈±r≈ëk -->
      <div class="filters">
        <div class="search-box">
          <input 
            type="text" 
            [(ngModel)]="searchTerm" 
            (input)="filterArticles()"
            placeholder="Keres√©s cikkek k√∂z√∂tt..."
            class="search-input"
          >
          <span class="search-icon">üîç</span>
        </div>
        
        <div class="category-filters">
          <button 
            *ngFor="let category of categories"
            [class.active]="selectedCategory === category.id"
            (click)="selectedCategory = category.id; filterArticles()"
            class="category-btn"
          >
            {{ category.name }}
          </button>
        </div>
      </div>

      <!-- Cikkek list√°ja -->
      <div class="articles-list">
        <div *ngFor="let article of filteredArticles" class="article-card">
          <div class="article-header">
            <span 
              class="article-category"
              [style.backgroundColor]="getCategoryColor(article.category)"
            >
              {{ getCategoryName(article.category) }}
            </span>
            <span class="article-date">{{ article.date }}</span>
          </div>
          
          <h3 class="article-title">{{ article.title }}</h3>
          <p class="article-content">{{ article.content }}</p>
          
          <div class="article-footer">
            <div class="article-meta">
              <span class="article-author">√çrta: {{ article.author }}</span>
              <div class="article-stats">
                <button class="like-btn" (click)="likeArticle(article)">
                  üëç {{ article.likes }}
                </button>
                <span class="comments-count">
                  üí¨ {{ article.commentsCount }} hozz√°sz√≥l√°s
                </span>
              </div>
            </div>
          </div>
        </div>

        <div *ngIf="filteredArticles.length === 0" class="no-results">
          <p>Nincs tal√°lat a keres√©si felt√©telek alapj√°n.</p>
        </div>
      </div>
    </main>

    <!-- Jobb oldal: Komment szekci√≥ -->
    <aside class="comments-section">
      <div class="comments-header">
        <h2>üí¨ Hozz√°sz√≥l√°sok</h2>
        <p>Vedd r√©szt a besz√©lget√©sben!</p>
      </div>

      <!-- √öj hozz√°sz√≥l√°s ≈±rlap -->
      <div class="new-comment-form">
        <h3>√öj hozz√°sz√≥l√°s √≠r√°sa</h3>
        <div class="form-group">
          <input 
            type="text" 
            [(ngModel)]="newComment.author"
            placeholder="Neved"
            class="form-input"
          >
        </div>
        <div class="form-group">
          <select [(ngModel)]="newComment.articleId" class="form-select">
            <option *ngFor="let article of articles" [value]="article.id">
              {{ article.title }}
            </option>
          </select>
        </div>
        <div class="form-group">
          <textarea 
            [(ngModel)]="newComment.content"
            placeholder="√çrd meg hozz√°sz√≥l√°sodat..."
            rows="4"
            class="form-textarea"
          ></textarea>
        </div>
        <button (click)="addComment()" class="submit-btn">
          Hozz√°sz√≥l√°s k√ºld√©se
        </button>
      </div>

<!-- Kommentek szekci√≥ -->
<div class="comments-section">
  <h3>Kommentek</h3>
  
  <div class="comments-list">
    <div *ngFor="let comment of comments" class="comment-card">
      <div class="comment-header">
        <span class="comment-author">{{ comment.author }}</span>
        <span class="comment-date">{{ comment.date }}</span>
      </div>
      
      <!-- JAV√çTOTT R√âSZ: met√≥dush√≠v√°ssal -->
      <div class="comment-article">
        Cikk: {{ getArticleTitle(comment.articleId) }}
      </div>
      
      <div class="comment-content">{{ comment.content }}</div>
      
      <div class="comment-footer">
        <button class="like-btn" (click)="likeComment(comment)">
          üëç {{ comment.likes }}
        </button>
      </div>
    </div>
    
    <div *ngIf="comments.length === 0" class="no-comments">
      Nincsenek kommentek m√©g.
    </div>
  </div>


  <!-- L√°bl√©c -->
  <footer class="community-footer">
    <p>¬© 2026 MDMPort | Minden jog fenntartva</p>
  </footer>
</div>